<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

<body style="margin : 0px; overflow: hidden;">
  
  <a-scene renderer="logarithmicDepthBuffer: true; colorManagement: true; sortObjects: true;" embedded arjs="sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
    
    <a-assets> 
      <a-asset-item id="boneco" src="https://raw.githubusercontent.com/nucleosistemasit/ar_randon_teste/main/3d/WorkFemale.gltf"></a-asset-item>
      <audio id="frase_1" src="audio/frase_1.mp3" preload="auto"></audio>
      <audio id="frase_2" src="audio/frase_2.mp3" preload="auto"></audio>
      <audio id="frase_3" src="audio/frase_3.mp3" preload="auto"></audio>
    </a-assets>
    
    <a-marker type="barcode" value="3">
      <a-entity id="boneco_1" gltf-model="#boneco" position="0 0 1" rotation="-90 0 0" scale="1 1 1" sound="src: #frase_1; autoplay: false" animation-mixer></a-entity>
      <a-sphere id="play_boneco_1" color="#00AA00" radius="0.15" position="-0.25 0 -1" play1></a-sphere>
      <a-sphere id="stop_boneco_1" color="#AA0000" radius="0.15" position="0.25 0 -1" stop1></a-sphere>
    </a-marker>

    <a-marker type="barcode" value="6">
      <a-entity id="boneco_2" gltf-model="#boneco" position="0 0 1" rotation="-90 0 0" scale="1 1 1" sound="src: #frase_2; autoplay: false" animation-mixer></a-entity>
      <a-sphere id="play_boneco_2" color="#00AA00" radius="0.15" position="-0.25 0 -1" play2></a-sphere>
      <a-sphere id="stop_boneco_2" color="#AA0000" radius="0.15" position="0.25 0 -1" stop2></a-sphere>
    </a-marker>

    <a-marker type="barcode" value="9">
      <a-entity id="boneco_3" gltf-model="#boneco" position="0 0 1" rotation="-90 0 0" scale="1 1 1" sound="src: #frase_3; autoplay: false" animation-mixer></a-entity>
      <a-sphere id="play_boneco_3" color="#00AA00" radius="0.15" position="-0.25 0 -1" play3></a-sphere>
      <a-sphere id="stop_boneco_3" color="#AA0000" radius="0.15" position="0.25 0 -1" stop3></a-sphere>
    </a-marker>

    <a-entity camera></a-entity>
  
  </a-scene>  
  
</body>

<script>

  var entity1 = document.querySelector('#boneco_1');
  var entity2 = document.querySelector('#boneco_2');
  var entity3 = document.querySelector('#boneco_3');

  document.querySelector('#boneco_1').addEventListener('touchend', function (evt) {
    entity1.components.sound.playSound();
  });

  AFRAME.registerComponent('play1', {
    init: function () {
      entity1.components.sound.playSound();
    }
  });
  
  AFRAME.registerComponent('stop1', {
    init: function () {
      entity1.components.sound.stopSound();
    }
  });

  AFRAME.registerComponent('play2', {
    init: function () {
      entity2.components.sound.playSound();
    }
  });

  AFRAME.registerComponent('stop2', {
    init: function () {
      entity2.components.sound.stopSound();
    }
  });

  AFRAME.registerComponent('play3', {
    init: function () {
      entity3.components.sound.playSound();
    }
  });

  AFRAME.registerComponent('stop3', {
    init: function () {
      entity3.components.sound.stopSound();
    }
  });

</script>
